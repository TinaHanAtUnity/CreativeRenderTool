export function toAbGroup(group) {
    if (group === 99) {
        return 99;
    }
    if (group >= 0 && group <= 19) {
        return group;
    }
    return -1;
}
class ABTest {
    constructor(...groups) {
        this._groups = groups;
    }
    isValid(group) {
        return this._groups.indexOf(group) !== -1;
    }
}
class ReverseABTest extends ABTest {
    constructor(...groups) {
        super(...groups);
    }
    isValid(group) {
        return !super.isValid(group);
    }
}
class DisabledABTest extends ABTest {
    constructor(...groups) {
        super(...groups);
    }
    isValid(group) {
        return false;
    }
}
export class FilteredABTest extends ABTest {
    static setup(gameId, organizationId) {
        FilteredABTest._gameId = gameId;
        FilteredABTest._organizationId = organizationId;
    }
    isValid(group) {
        return !this.isFiltered() && super.isValid(group);
    }
}
class ZyngaFilteredABTest extends FilteredABTest {
    isFiltered() {
        return FilteredABTest._organizationId === '3418765';
    }
}
class ZyngaFilteredReverseABTest extends ZyngaFilteredABTest {
    constructor(...groups) {
        super(...groups);
    }
    isValid(group) {
        return !this.isFiltered() && !super.isValid(group);
    }
}
// For Unit Testing
export const FakeEnabledABTest = new ABTest(16, 17);
export const FakeDisabledABTest = new DisabledABTest(16, 17);
export const FakeZyngaFilteredABTest = new ZyngaFilteredABTest(16, 17);
export const FakeReverseABTest = new ReverseABTest(16, 17);
export const FakeZyngaFilteredReverseABTest = new ZyngaFilteredReverseABTest(16, 17);
// Active AB Tests
export const MabReverseABTest = new ZyngaFilteredReverseABTest(7);
export const GooglePlayDetectionTest = new ABTest(8);
export const LoadV5NoInvalidation = new ABTest(13);
export const LoadV5 = new ABTest(14, 15, 18, 19);
export const LoadV5AuctionV6 = new ABTest(14, 15);
export const ExternalMRAIDEndScreenABTest = new ZyngaFilteredABTest(8, 17);
// Disabled AB Tests
export const OpenMeasurementTest = new DisabledABTest();
export const IframeEndcardTest = new DisabledABTest();
export const ConsentUXTest = new DisabledABTest();
export const PrivacySDKTest = new DisabledABTest();
export const MraidWebplayerTest = new DisabledABTest();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQUJHcm91cC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy90cy9Db3JlL01vZGVscy9BQkdyb3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBYTtJQUNuQyxJQUFJLEtBQUssS0FBSyxFQUFFLEVBQUU7UUFDZCxPQUFPLEVBQUUsQ0FBQztLQUNiO0lBRUQsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFLEVBQUU7UUFDM0IsT0FBZ0IsS0FBSyxDQUFDO0tBQ3pCO0lBQ0QsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNkLENBQUM7QUFJRCxNQUFNLE1BQU07SUFHUixZQUFZLEdBQUcsTUFBdUI7UUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDMUIsQ0FBQztJQUVNLE9BQU8sQ0FBQyxLQUFjO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztDQUNKO0FBRUQsTUFBTSxhQUFjLFNBQVEsTUFBTTtJQUM5QixZQUFZLEdBQUcsTUFBdUI7UUFDbEMsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUVNLE9BQU8sQ0FBQyxLQUFjO1FBQ3pCLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7Q0FDSjtBQUVELE1BQU0sY0FBZSxTQUFRLE1BQU07SUFDL0IsWUFBWSxHQUFHLE1BQXVCO1FBQ2xDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFTSxPQUFPLENBQUMsS0FBYztRQUN6QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBQ0o7QUFFRCxNQUFNLE9BQWdCLGNBQWUsU0FBUSxNQUFNO0lBSXhDLE1BQU0sQ0FBQyxL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