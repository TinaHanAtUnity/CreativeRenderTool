import 'Workarounds';
document.addEventListener('DOMContentLoaded', () => {
    //const mraid = '<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" > <title>Ad</title> </head> <body> <script src="mraid.js"></script> <script>var AK_CLICK_URL="https://click-us.adikteev.com/v1/click?creativeGroupId=124557&creativeGroupName=202009_MRAID_Launch&creativeId=226018&creativeName=MRAID_300x250_KingsGroup_GOG_Launch_Sep20&creativeType=creative_mraid_banner&retina=0&campaign=31496&supplier=342&supplier_name=unity&adSession=TObgYDo8EeuecrkmZak4SA&bidrequest_id=721d7fee-4563-49bf-b67f-cc10f53063ae&user_id=&w=300&h=250&deviceId=502dfa5f7353b5ed82fdaf2c916c493e4bd1ad5e&algorithm=ExternalCtrEstimation&crAlgorithm=ExternalCrEstimation&country=USA&country_a2=US&city=&idfa=502dfa5f7353b5ed82fdaf2c916c493e4bd1ad5e&idfa_plain=37945664-7DF3-4780-BFE7-74B793206A85&publisherAppId=372836496&publisherAnonymousId=4135f3e520a7259bb728f90f4e969c68&publisher_name=Coin%20Dozer&";</script> <script src="https://cdn-ww.adikteev.com/creatives/bf30dea6-3843-3029-3d1c-d146cc4ba17c.js"></script> <img src="https://impression-us.adikteev.com/3.0/?creativeGroupId=124557&creativeGroupName=202009_MRAID_Launch&creativeId=226018&creativeName=MRAID_300x250_KingsGroup_GOG_Launch_Sep20&creativeType=creative_mraid_banner&retina=0&campaign=31496&supplier=342&supplier_name=unity&adSession=TObgYDo8EeuecrkmZak4SA&bidrequest_id=721d7fee-4563-49bf-b67f-cc10f53063ae&user_id=&w=300&h=250&deviceId=502dfa5f7353b5ed82fdaf2c916c493e4bd1ad5e&algorithm=ExternalCtrEstimation&crAlgorithm=ExternalCrEstimation&country=USA&country_a2=US&city=&idfa=502dfa5f7353b5ed82fdaf2c916c493e4bd1ad5e&idfa_plain=37945664-7DF3-4780-BFE7-74B793206A85&publisherAppId=372836496&publisherAnonymousId=4135f3e520a7259bb728f90f4e969c68&publisher_name=Coin%20Dozer&deviceFamily=iphone&device_name=Apple%20iPhone10%2C5&connection_type=cellular" style="display:none;"/> </body> </html>\n'
    //const banner_html = '<script type="text/javascript">rubicon_cb = Math.random(); rubicon_rurl = document.referrer; if(top.location==document.location){rubicon_rurl = document.location;} rubicon_rurl = escape(rubicon_rurl);\\n      window.rubicon_ad = "3395053" + "." + "js";window.rubicon_creative = "3486753" + "." + "js";</script><div data-rp-type="trp-display-creative" data-rp-impression-id="c7ebf003-ed8f-4547-a6c8-e5dd05327d95" data-rp-aqid="2307:rdyyf3i5" data-rp-acct-id="20014"><img src="https://ca4-bid.adsrvr.org/bid/feedback/rubicon?iid=0eec388a-a128-4008-aa54-6ac6ddabc141&crid=rdyyf3i5&wp=814A30C31197EDF3&aid=1&wpc=USD&sfe=12087c64&puid=&tdid=&pid=febofrs&ag=balq8ht&adv=hgoqa3d&sig=1ajzOdO8h0cX4gl0DgQ16-oOEjCjPmJ54TUu0glNjfew.&bp=3.9037175&cf=1893005&fq=0&td_s=1456732568&rcats=&mcat=&mste=&mfld=4&mssi=None&mfsi=9cuouub8z7&uhow=83&agsa=&rgco=United%20States&rgre=Delaware&rgme=504&rgci=Newark&rgz=19702&svbttd=1&dt=Mobile&osf=iOS&os=iOS142&br=WebView&rlangs=en&mlang=&svpid=20014&did=&rcxt=InApp&lat=39.632702&lon=-75.699799&tmpc=&daid=2d14c44f-1ae1-40ae-b58e-ab8a9e7fc578&vp=0&osi=&osv=&sft=1&bx=60&bffi=41&mk=Apple&mdl=iPhone&c=OAJQAQ..&dur=ChoKB3JraHc0eW4Q3dAFIgsIlsivfRIEbm9uZQo2Ch1jaGFyZ2UtYWxsSW50ZWdyYWxCcmFuZFNhZmV0eSIVCPn__________wESCGludGVncmFsCjYKHWNoYXJnZS1hbGxJbnRlZ3JhbFZpZXdhYmlsaXR5IhUI-P__________ARIIaW50ZWdyYWwKPQokY2hhcmdlLWFsbEludGVncmFsU3VzcGljaW91c0FjdGl2aXR5IhUI9f__________ARIIaW50ZWdyYWwQ3dAF&durs=r8fFGw&crrelr=&ipl=1484620&fpa=870&pcm=3&vc=3&said=c3f3675ef23ddecafe8b885674b0a20b5b469021&ict=Unknown&auct=1&im=1" width="1" height="1" style="display: none;"/><ins class=\'dcmads\' style=\'display:inline-block;width:320px;height:50px\'data-dcm-placement=\'N6643.284566THETRADEDESK/B24800832.284177433\'data-dcm-rendering-mode=\'script\'    data-dcm-https-only    data-dcm-gdpr-applies=\'gdpr=0\'    data-dcm-gdpr-consent=\'gdpr_consent=\'    data-dcm-addtl-consent=\'addtl_consent=${ADDTL_CONSENT}\'    data-dcm-resettable-device-id=\'\'    data-dcm-app-id=\'\'    data-dcm-click-tracker=\'http://insight.adsrvr.org/track/clk?imp=0eec388a-a128-4008-aa54-6ac6ddabc141&ag=balq8ht&sfe=12087c64&sig=KDh25yLEjqCHYgKKfZV2l84k2pvnuDrIDIhM5NsZt8w.&crid=rdyyf3i5&cf=1893005&fq=0&td_s=1456732568&rcats=&mcat=&mste=&mfld=4&mssi=None&mfsi=9cuouub8z7&sv=rubicon&uhow=83&agsa=&wp=814A30C31197EDF3&rgco=United%20States&rgre=Delaware&rgme=504&rgci=Newark&rgz=19702&dt=Mobile&osf=iOS&os=iOS142&br=WebView&svpid=20014&rlangs=en&mlang=&did=&rcxt=InApp&tmpc=&vrtd=&osi=&osv=&daid=2d14c44f-1ae1-40ae-b58e-ab8a9e7fc578&dnr=0&vpb=&c=OAJQAQ..&dur=ChoKB3JraHc0eW4Q3dAFIgsIlsivfRIEbm9uZQo2Ch1jaGFyZ2UtYWxsSW50ZWdyYWxCcmFuZFNhZmV0eSIVCPn__________wESCGludGVncmFsCjYKHWNoYXJnZS1hbGxJbnRlZ3JhbFZpZXdhYmlsaXR5IhUI-P__________ARIIaW50ZWdyYWwKPQokY2hhcmdlLWFsbEludGVncmFsU3VzcGljaW91c0FjdGl2aXR5IhUI9f__________ARIIaW50ZWdyYWwQ3dAF&durs=r8fFGw&crrelr=&npt=&svscid=1456732568&mk=Apple&mdl=iPhone&ipl=1484620&fpa=870&pcm=3&ict=Unknown&said=c3f3675ef23ddecafe8b885674b0a20b5b469021&auct=1&r=\'>  <script src=\'https://www.googletagservices.com/dcm/dcmads.js\'></script></ins><SCRIPT TYPE="application/javascript" SRC="https://pixel.adsafeprotected.com/rjss/st/511566/49325483/skeleton.js"></SCRIPT> <NOSCRIPT><IMG SRC="https://pixel.adsafeprotected.com/rfw/st/511566/49325482/skeleton.gif?gdpr=0&gdpr_consent=&gdpr_pd=0" BORDER=0 WIDTH=1 HEIGHT=1 ALT="\\"></NOSCRIPT><span id="te-clearads-js-tradedesk01cont1"><script type="text/javascript" src="https://choices.truste.com/ca?pid=tradedesk01&aid=tradedesk01&cid=usy756f_balq8ht_rdyyf3i5&c=tradedesk01cont1&js=pmw0&w=320&h=50&sid=ev9-FM60pzWefkMAiM77ugE-aNy2u3kzAYRYrOVH6CAKZFd9zCTl0CxJbkTUuxCJqAKfKCfzl1E_CGM8sK4j1pHD9n_Ok4zptAZ71g06UbxN_scyQ9JHMzhX72-nSO4X"></script></span></div>';
    const text = '<img src="https://tk0x1.com/sj/tr?et=INBOX_OPEN&id=5fd0fc642a1cb0e4b46ad5e8&meta=MjA0NzIzMDo4MTc0OTA6MmE1MGJiMDAtNGZhMS00ZmU5LWJkNTgtNmMxZGRiMmU4ZTZj&ctx=CiQyYTUwYmIwMC00ZmExLTRmZTktYmQ1OC02YzFkZGIyZThlNmMSAk1YGNLyMSD--XwqCAgBEJijAhgKODZAAgk&name=dsp_html_loaded" width=1 height=1 style="display:none"/><img src="https://tk0x1.com/sj/tr?et=ON_LOAD&id=5fd0fc642a1cb0e4b46ad5e8&meta=MjA0NzIzMDo4MTc0OTA6MmE1MGJiMDAtNGZhMS00ZmU5LWJkNTgtNmMxZGRiMmU4ZTZj&ctx=CiQyYTUwYmIwMC00ZmExLTRmZTktYmQ1OC02YzFkZGIyZThlNmMSAk1YGNLyMSD--XwqCAgBEJijAhgKODZAAgk" width=1 height=1 style="display:none"/>    <script type="text/javascript"> rubicon_cb = Math.random(); rubicon_rurl = document.referrer; if(top.location==document.location){rubicon_rurl = document.location;} rubicon_rurl = escape(rubicon_rurl);window.rubicon_ad ="3450172" + "." + "js";window.rubicon_creative = "3563774" + "." + "js";</script><div data-rp-type="trp-display-creative" data-rp-impression-id="3ae89bf7-1926-4feb-ab2f-d435e0d9368e" data-rp-aqid="2974:2929437" data-rp-acct-id="20744"><div style="width: 0; height: 0; overflow: hidden;"><img border="0" width="1" height="1" src="https://pr.ybp.yahoo.com/bw/rubicon/imp/zhYiqI6djr6B4ryn4T3F7CuSZxCJQLvIwcijgnhdeIX18sZwU8iiCrWTr80-l2duu6twLn0qHL5XaJ2ADB3ZVVJw7GM_-8rNddzRqcFlI5CYSJnycidwekWHkfs-EvWf5CgdwSwSYQlzbhU4wgVsYDHNGgZy8J43ZGJGV1TXHWgg1Pj3Nx2iWk1X_A2Umy5TwhKkyArUImRye8-OHMej1RVYwEaAsve1El1tB8VaUm8G6dbnLEobzvGsD3Rnudq63u7cRpWf95K6pTLE5chSdhybLttl423rH-yz8xAQQYPm2KndX9STXHyvTU2C7Yujj9oJjyegDFfauahGaQPkp6TYXqcm0bVkPLi3kvQYfFuWo_IE2nRL5fjV0SwA6qZU0SQNTIOBbmWy8xuXynSKana9m_s8zhVyAeHmE6wpkLh5HsbxvBBsrfmK7aVjn2YoJHcA5DsKq9lIQWuOa9jP5wh4A9RDWYTJw8wjRcEPPhzrIO-ikVg2cc2Faf78vpXeFye7i7YGZiKlZ3wYvkXos7yTqlGqpRv7gULdrjeGS5KU0LCJnIvk9hkX3I4m5zNlsfgx5-UEgqg9gxouooC7oH0OCYqHQil0fSd6606MM-6c_YYdrymL5fnzhfj1_t4RjVNe2tWUHlbnS_0HGSxPEygdU8sUNw8hjbRpFGjNwIO92BUEpYxW37fy1CTZvLNEWNiwpmlrmr4DjQY01X9teI_a_jT_Qi5dCQZMy4mYRT6MzetuVSFIvmBD_gKnjKX_78AkNlI7J-1mqO26MQi7yv63bUuaiuz1jOCVt4HsIMEOz4QUxNqF7kvdB0nEf0iqyB9_HX-RhDbNLwbUofaAh68PUmf9VKHpp-ClZ2XHb8naEQ_VjDVMudsLrcMQVif4TqgQFe-LokSjnv52ADk5NBwvHbOkxuT6w62IY-JtkYqaIzbFsNEuJcNftUBsfDHCuYzzKasGfoUhpa4Q-ToD2oAqU_xG5WkEk9oWRf9XIrwZRnbEF1JKcsjqUVkKfUuVlf--r1E8-ez85s7nzEmp41hmGYknJb-JGuH94XB5WzL2_-gBTmH57Cr1gfjOVk7qAb9W3oTs-z4c3YsI2nWETANPmKN3YJUrrF_N11lbheVxzovnM261CzqpNXUdI5569sWLtAyhXo3MPf9-7qzBx8uiywJWwvFw7vBLac7LBJ9d0F0F4VEsS7lXTYzgr7Ii6nYtwYrHm5_eaZctOyqS-sbVQvk9OTy9UvHkTcWArjOYjODNS5GuoKRwoIRo9d7oMcXiOBwnyAGl-kTdryZjhPh4nJo-L9e4AiVKJpQ_XSfMObjTQyzh_Mzc-D64_eSEbs3MFwg0DReLrIrVSqjF8sBdItWM-L-kJ48gxZBwrIQ/ai/ca1c59645c3b6a49e3386c53bf3b07196709ffeb_15/wp/621E1320FFFD59E9" alt="" /><img border="0" width="1" height="1" src="https://beacon-eu-ams3.rubiconproject.com/beacon/d/3ae89bf7-1926-4feb-ab2f-d435e0d9368e?oo=0&accountId=20744&siteId=274238&zoneId=1500950&sizeId=15&e=6A1E40E384DA563B2D8B67A878EA1E510A62EFD5D1BA3479C6E7AC9E991E0F52A9C56EAB020706C8AA2A98C85C8DBF9D43DB83E445ADAC68D7310B38E2B4AFB2FE34692F1D4D5E6DA61F048890D11D2EDBCD69D848D03A5B908B03A19E92189CF09C6103C1DF2AA2C2D7CCACF2A8446C75A050C8697C068A12826695013CAF05BC67EE0A89F358C4CDDF8011EB96895649EFE27DDEA36CF124F5207A2458AD77BD3A25CF684609233BCAC78D2429BA0F0F760CC444DF4D09C293AB389E320516CFFF4E00B8176B4C25751A6F51DFC79E" alt="" /></div><script type="text/javascript" src="https://pr.ybp.yahoo.com/ab/secure/true/imp/Wuc9sicquh1N2RJMi7OEcMmK_WlBtUYEKWTrAyIyB34rQx15AumFyou9lW00H_ulIPLVnGrvJvNZHio7EdH-yBgIRR7MwuclnCtDtvq3fGq_wENUdteM-U2BbMXnbYrnyBRThFUA8dt7Z2M-LZTc5FFixFSG3YKzKRieSsYKBJgBhfx-09ocqKcdNSV46GtzTkbQt9QAKJ5fAfOS41QEj7Brs8QzcK6ESh6PmxX5Qtn1nrj_iU8OrX5ffuXfXjUNcD1_XVaUeOB0GZctlQ5gsuuFAj7sogC4jJA7xLk3FWKwhW6cDtrjerFa9xQAP6EH_KNm_S8GJUeYr2BHQz7VmRTTMa0fIgJcb9ega3VYc5Lx0MURmA0p6t4LtZsy5idpH7OaQ6UFEFRHskq_oTBsJo05-si_GuJZ2_6wxEwXGa8n6lAAA6x5wFQLcj_lhaXiyV_Eq7dWSli14kfS-iPVeuhmnq_zbCZuOBgt7RbyRnqJMTrEE_Nz4AN0QZToAKvCm-D10LntAnu3011pKOZsyixuTMJXwmhFzV6tnrL71Xf4nT5iu10MqU0nra1PJiQSU6ejoVM6oYTdO0xAFdIFOS9Y7ryHV3uHsUv05nZ3bD52uBDoVntN1kr6swk903rhGt0t13FV4m5OmaMe5EKnfpq9xpC-Ga65EZ0SIEfz6MASu2owKwFOu8gWnJt3GfsmpnqDrh3VRJwjwysnvsBTcxhNtTTb1EtXF2PXDzwRekY4fToLPYMiredOOvhWlkk5-APHLJUVozbgCLFv24Lf95dpnEqS0Jxe0deNyxtLflvvrp0a3ACjWNuUAdnwg2azAX0UjiRPh9dbza401h127g7YHafDFAMxPNVsBgLptACPzOTq6ocFlrh3r5CyAVRmQR5JO1e__cGwDiBXdJYkl_Wya9spAPAsGGsiqbN9U1tLrq45_98embMXf0dRQ9LZk4O8B_3lJeSdIMNdVIpZlOuHbiiaMS9Nl241ycTshqKzTN0_7FszEjUthwkd40XMcmf_x7d3L_mPDqURSlLXDUXtqNIsOCkbbS5Ljl_NsBXdREa_Cpfi9-JabbNchjVdIv9B3vnwU44T6k2vLX8fkL3lF4Fbufyp2BI2xxPFn358KyCo1FbM1PScuaJu0Z9q-EISfYrj_g-HAlv7KM06TYC-fYa7hTwsfbZeSWh4uyzZHclkl9mqTnmjdysvu7Nj8skaPMf8yM8afmGqkC5lYitJUhp2jfIn6RmGDqH7p3n_wmWUpxyLEdE9IoIQEwy-WQ0uW0sqVJshgFDwqtPavP3HMg_wdy2dlPlukxlf5amYzxp0rca0P15qHe2-aEsYPqwty2VbmgizWRp1veLD4tk7jAK3m95ckyKwPYQc840/wp/621E1320FFFD59E9"></script></div>';
    window.parent.document.write(text);
    //window.parent.document.appendChild(div);
    /*const resizeHandler = (event?: Event) => {
        const currentOrientation = document.body.classList.contains('landscape') ? 'landscape' : document.body.classList.contains('portrait') ? 'portrait' : null;
        const newOrientation: string = window.innerWidth / window.innerHeight >= 1 ? 'landscape' : 'portrait';
        if (currentOrientation) {
            if (currentOrientation !== newOrientation) {
                document.body.classList.remove(currentOrientation);
                document.body.classList.add(newOrientation);
            }
        } else {
            document.body.classList.add(newOrientation);
        }
    };
    resizeHandler();
    window.addEventListener('resize', resizeHandler, false);

    const toInt = (element: HTMLInputElement): number => parseInt(element.value, 10);
    const toBoolean = (element: HTMLInputElement): boolean => element.checked;
    const JS_FUNC_NAME_GET_HEADLESS = 'getHeadless';
    const JS_FUNC_NAME_GET_HEADLESS_LOAD = 'getHeadlessLoad';
    const JS_FUNC_NAME_GET_HEADLESS_LOAD_ADAPTER = 'getHeadlessLoadAdapter';

    const setClientInfo = () => {
        const fields: [string, string, ((element: HTMLInputElement) => unknown) | undefined][] = [
            ['appName', 'setAppName', undefined],
            ['appVersion', 'setAppVersion', undefined],
            ['sdkVersion', 'setSdkVersion', toInt],
            ['sdkVersionName', 'setSdkVersionName', undefined],
            ['debuggable', 'setDebuggable', toBoolean],
            ['configUrl', 'setConfigUrl', undefined],
            ['webViewUrl', 'setWebViewUrl', undefined],
            ['webViewHash', 'setWebViewHash', undefined],
            ['webViewVersion', 'setWebViewVersion', undefined],
            ['initTimeStamp', 'setInitTimeStamp', toInt],
            ['reinitialized', 'setReinitialized', toBoolean]
        ];
        fields.forEach(([field, setter, parser]: [string, string, ((element: HTMLInputElement) => unknown) | undefined]) => {
            const element = <HTMLInputElement>window.parent.document.getElementById(field);
            // tslint:disable-next-line
            (<any>UnityAds.getBackend().Api.Sdk)[setter](parser ? parser(element) : element.value);
        });
    };

    const setAndroidDeviceInfo = () => {
        const fields: [string, ((element: HTMLInputElement) => unknown) | undefined][] = [
            ['AdvertisingTrackingId', undefined],
            ['LimitAdTrackingFlag', toBoolean],
            ['AndroidId', undefined],
            ['Manufacturer', undefined],
            ['Model', undefined],
            ['OsVersion', undefined],
            ['ApiLevel', toInt],
            ['Rooted', toBoolean],
            ['ScreenWidth', toInt],
            ['ScreenHeight', toInt],
            ['ScreenDensity', toInt],
            ['ScreenLayout', toInt],
            ['ScreenBrightness', toInt],
            ['SystemLanguage', undefined],
            ['TimeZone', undefined],
            ['TotalSpace', toInt],
            ['FreeSpace', toInt],
            ['TotalMemory', toInt],
            ['FreeMemory', toInt],
            ['ConnectionType', undefined],
            ['NetworkType', toInt],
            ['NetworkOperator', undefined],
            ['NetworkOperatorName', undefined],
            ['Headset', toBoolean],
            ['DeviceVolume', toInt],
            ['BatteryLevel', toInt],
            ['BatteryStatus', toInt],
            ['RingerMode', toInt]
        ];
        fields.forEach(([field, parser]: [string, ((element: HTMLInputElement) => unknown) | undefined]) => {
            const element = <HTMLInputElement>window.parent.document.getElementById('android' + field);
            // tslint:disable-next-line
            (<any>UnityAds.getBackend().Api.DeviceInfo)['set' + field](parser ? parser(element) : element.value);
        });
    };

    const setIosDeviceInfo = () => {
        const fields: [string, ((element: HTMLInputElement) => unknown) | undefined][] = [
            ['AdvertisingTrackingId', undefined],
            ['LimitAdTrackingFlag', toBoolean],
            ['Manufacturer', undefined],
            ['Model', undefined],
            ['OsVersion', undefined],
            ['Rooted', toBoolean],
            ['ScreenWidth', toInt],
            ['ScreenHeight', toInt],
            ['ScreenScale', toInt],
            ['ScreenBrightness', toInt],
            ['SystemLanguage', undefined],
            ['TimeZone', undefined],
            ['TotalSpace', toInt],
            ['FreeSpace', toInt],
            ['TotalMemory', toInt],
            ['FreeMemory', toInt],
            ['ConnectionType', undefined],
            ['NetworkType', toInt],
            ['NetworkOperator', undefined],
            ['NetworkOperatorName', undefined],
            ['Headset', toBoolean],
            ['DeviceVolume', toInt],
            ['BatteryLevel', toInt],
            ['BatteryStatus', toInt],
            ['UserInterfaceIdiom', toInt],
            ['Simulator', toBoolean]
        ];
        fields.forEach(([field, parser]: [string, ((element: HTMLInputElement) => unknown) | undefined]) => {
            const element = <HTMLInputElement>window.parent.document.getElementById('ios' + field);
            // tslint:disable-next-line
            (<any>UnityAds.getBackend().Api.DeviceInfo)['set' + field](parser ? parser(element) : element.value);
        });
    };

    if (window.parent !== window) {
        const p = <HTMLInputElement>window.parent.document.createElement('p');
        p.textContent = window.parent.location.search.substring(1);
        const container = <HTMLInputElement>window.parent.document.getElementById('hello');
        if (container) {
            container.appendChild(p);
        }

        const abGroupElement = <HTMLInputElement>window.parent.document.getElementById('abGroup');
        const campaignIdElement = <HTMLInputElement>window.parent.document.getElementById('campaignId');
        const countryElement = <HTMLInputElement>window.parent.document.getElementById('country');
        const platformElement = <HTMLInputElement>window.parent.document.getElementById('platform');
        const gameIdElement = <HTMLInputElement>window.parent.document.getElementById('gameId');
        const testModeElement = <HTMLInputElement>window.parent.document.getElementById('testMode');
        const loadModeElement = <HTMLInputElement>window.parent.document.getElementById('loadMode');
        const autoSkipElement = <HTMLInputElement>window.parent.document.getElementById('autoSkip');
        const useStagingElement = <HTMLInputElement>window.parent.document.getElementById('useStaging');
        const initializeButton = <HTMLButtonElement>window.parent.document.getElementById('initialize');
        const loadButtonDefault = <HTMLButtonElement>window.parent.document.getElementById('loadDefault');
        const loadButtonIncentivize = <HTMLButtonElement>window.parent.document.getElementById('loadIncentivize');
        const campaignResponseElement = <HTMLInputElement>window.parent.document.getElementById('campaignResponse');
        const endScreenUrlElement = <HTMLInputElement>window.parent.document.getElementById('endScreenUrl');
        const forceLoadV5Element = <HTMLInputElement>window.parent.document.getElementById('forceLoadV5');

        const initialize = () => {
            window.localStorage.setItem('abGroup', abGroupElement.value);
            window.localStorage.setItem('campaignId', campaignIdElement.value);
            window.localStorage.setItem('country', countryElement.value);
            window.localStorage.setItem('platform', platformElement.value);
            window.localStorage.setItem('gameId', gameIdElement.value);
            window.localStorage.setItem('testMode', testModeElement.checked.toString());
            window.localStorage.setItem('loadMode', loadModeElement.checked.toString());
            window.localStorage.setItem('autoSkip', autoSkipElement.checked.toString());
            window.localStorage.setItem('useStaging', useStagingElement.checked.toString());
            window.localStorage.setItem('forceLoadV5', forceLoadV5Element.checked.toString());

            abGroupElement.disabled = true;
            campaignIdElement.disabled = true;
            countryElement.disabled = true;
            platformElement.disabled = true;
            gameIdElement.disabled = true;
            testModeElement.disabled = true;
            useStagingElement.disabled = true;
            loadButtonDefault.disabled = !loadModeElement.checked;
            loadButtonIncentivize.disabled = !loadModeElement.checked;
            loadModeElement.disabled = true;
            autoSkipElement.disabled = true;
            initializeButton.disabled = true;

            AdsConfigurationParser.setIsBrowserBuild(true);

            if (abGroupElement.value.length) {
                ConfigManager.setAbGroup(toAbGroup(parseInt(abGroupElement.value, 10)));
            }

            if (campaignIdElement.value.length) {
                CampaignManager.setCampaignId(campaignIdElement.value);
            }

            if (countryElement.value.length) {
                CampaignManager.setCountry(countryElement.value);
            }

            if (autoSkipElement.checked) {
                VideoOverlay.setAutoSkip(autoSkipElement.checked);
            }

            if (campaignResponseElement.value.length) {
                CampaignManager.setCampaignResponse(campaignResponseElement.value);
            }

            if (endScreenUrlElement.value.length) {
                CometCampaignParser.setForceEndScreenUrl(endScreenUrlElement.value);
            }

            // tslint:disable:no-console
            const listener: IUnityAdsListener = {
                onUnityAdsReady: (placement: string) => {
                    console.log('onUnityAdsReady: ' + placement);
                    const placementButton = <HTMLButtonElement>window.parent.document.getElementById(placement);
                    if (placementButton) {
                        const placementButtonlistener = (placementButtonEvent: Event) => {
                            placementButtonEvent.preventDefault();
                            placementButton.disabled = true;
                            placementButton.removeEventListener('click', placementButtonlistener, false);
                            UnityAds.show(placement);
                        };
                        placementButton.disabled = false;
                        placementButton.addEventListener('click', placementButtonlistener, false);
                    }
                },
                onUnityAdsStart: (placement: string) => {
                    console.log('onUnityAdsStart: ' + placement);
                },
                onUnityAdsFinish: (placement: string, state: string) => {
                    console.log('onUnityAdsFinish: ' + placement + ' - ' + state);
                },
                onUnityAdsError: (error: string, message: string) => {
                    console.log('onUnityAdsError: ' + error + ' - ' + message);
                },
                onUnityAdsClick: (placement: string) => {
                    console.log('onUnityAdsClick: ' + placement);
                },
                onUnityAdsPlacementStateChanged: (placement: string, oldState: string, newState: string) => {
                    console.log('onUnityAdsPlacementStateChanged: ' + placement + ' ' + oldState + ' -> ' + newState);
                }
            };
            // tslint:enable:no-console

            ARUtil.isARSupported = () => Promise.resolve(false);
            PermissionsUtil.checkPermissionInManifest = () => Promise.resolve(false);
            PermissionsUtil.checkPermissions = (platform: Platform, core: ICoreApi, permission: PermissionTypes) => Promise.resolve(CurrentPermission.DENIED);

            if (useStagingElement.checked) {
                ProgrammaticOperativeEventManager.setTestBaseUrl('https://auction.staging.unityads.unity3d.com');
                CampaignManager.setBaseUrl('https://auction.staging.unityads.unity3d.com');
                AuctionRequest.setBaseUrl('https://auction.staging.unityads.unity3d.com');
                ConfigManager.setTestBaseUrl('https://ads-game-configuration.staging.unityads.unity3d.com');
                MetricInstance.setBaseUrl('https://sdk-diagnostics.stg.mz.internal.unity3d.com');
                HttpKafka.setTestBaseUrl('https://httpkafka.staging.unityads.unity3d.com/v1/events');
            }

            switch (platformElement.value) {
                case 'android':
                    UnityAds.setBackend(new Backend(Platform.ANDROID));
                    UnityAds.getBackend().Api.Request.setPassthrough(true);
                    setClientInfo();
                    setAndroidDeviceInfo();
                    UnityAds.getBackend().Api.Storage.set(StorageType.PUBLIC, 'test.forceLoadV5.value', forceLoadV5Element.checked);
                    UnityAds.initialize(Platform.ANDROID, gameIdElement.value, listener, testModeElement.checked, loadModeElement.checked);
                    break;

                case 'ios':
                    UnityAds.setBackend(new Backend(Platform.IOS));
                    UnityAds.getBackend().Api.Request.setPassthrough(true);
                    setClientInfo();
                    setIosDeviceInfo();
                    UnityAds.getBackend().Api.Storage.set(StorageType.PUBLIC, 'test.forceLoadV5.value', forceLoadV5Element.checked);
                    UnityAds.initialize(Platform.IOS, gameIdElement.value, listener, testModeElement.checked, loadModeElement.checked);
                    break;

                default:
                    throw new Error('Unity Ads webview init failure: no platform defined, unable to initialize native bridge');
            }
        };

        // tslint:disable-next-line
        if ((<any>window).parent[JS_FUNC_NAME_GET_HEADLESS]()) {
            testModeElement.checked = true;
            initialize();
        // tslint:disable-next-line
         } else if ((<any>window).parent[JS_FUNC_NAME_GET_HEADLESS_LOAD]()) {
            testModeElement.checked = true;
            loadModeElement.checked = true;
            //Mopub whitelisted load API gameID
            gameIdElement.value = '2788221';
            initialize();
            UnityAds.load('rewardedVideo');
        // tslint:disable-next-line
        } else if ((<any>window).parent[JS_FUNC_NAME_GET_HEADLESS_LOAD_ADAPTER]()) {
            testModeElement.checked = true;
            loadModeElement.checked = true;
            abGroupElement.value = '5'; // Temporary while under abtest
            initialize();
            UnityAds.load('rewardedVideo');
        } else {
            abGroupElement.value = window.localStorage.getItem('abGroup') === null ? abGroupElement.value : window.localStorage.getItem('abGroup')!;
            campaignIdElement.value = window.localStorage.getItem('campaignId') === null ? campaignIdElement.value : window.localStorage.getItem('campaignId')!;
            countryElement.value = window.localStorage.getItem('country') === null ? countryElement.value : window.localStorage.getItem('country')!;
            platformElement.value = window.localStorage.getItem('platform') === null ? platformElement.value : window.localStorage.getItem('platform')!;
            gameIdElement.value = window.localStorage.getItem('gameId') === null ? gameIdElement.value : window.localStorage.getItem('gameId')!;
            testModeElement.checked = window.localStorage.getItem('testMode') === null ? testModeElement.checked : window.localStorage.getItem('testMode') === 'true';
            loadModeElement.checked = window.localStorage.getItem('loadMode') === null ? loadModeElement.checked : window.localStorage.getItem('loadMode') === 'true';
            autoSkipElement.checked = window.localStorage.getItem('autoSkip') === null ? autoSkipElement.checked : window.localStorage.getItem('autoSkip') === 'true';
            useStagingElement.checked = window.localStorage.getItem('useStaging') === null ? useStagingElement.checked : window.localStorage.getItem('useStaging') === 'true';
            forceLoadV5Element.checked = window.localStorage.getItem('forceLoadV5') === null ? useStagingElement.checked : window.localStorage.getItem('forceLoadV5') === 'true';

            initializeButton.addEventListener('click', (event: Event) => {
                event.preventDefault();
                initialize();
            }, false);

            loadButtonDefault.addEventListener('click', (event: Event) => {
                event.preventDefault();
                UnityAds.load('defaultVideoAndPictureZone');
            }, false);

            loadButtonIncentivize.addEventListener('click', (event: Event) => {
                event.preventDefault();
                UnityAds.load('incentivizedZone');
            }, false);

            // tslint:disable-next-line
            (<any>window).parent.document.getElementById('initialize').disabled = false;
            loadButtonDefault.disabled = true;
            loadButtonIncentivize.disabled = true;
        }
    }*/
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnJvd3Nlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cy9Ccm93c2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sYUFBYSxDQUFDO0FBb0JyQixRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBRS9DLGk2REFBaTZEO0lBQ2o2RCxpcUhBQWlxSDtJQUNqcUgsTUFBTSxJQUFJLEdBQUcsbXFKQUFtcUosQ0FBQztJQUNqckosTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25DLDBDQUEwQztJQUMxQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXlURztBQUNQLENBQUMsQ0FBQyxDQUFDIn0=