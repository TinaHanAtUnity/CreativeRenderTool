<!DOCTYPE html>
<html lang="en">
<head>
  <title>Unity Ads WebView</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />

  <script>
    var queryString = location.search.split('?')[1].split('&');
    var queryParams = {};

    for(i = 0; i < queryString.length; i++) {
      var param = queryString[i].split('=');
      queryParams[param[0]] = param[1];
    }

    var origin;
    if(queryParams['origin']) {
      origin = queryParams['origin'].substring(0, queryParams['origin'].lastIndexOf('/') + 1);
    } else {
      origin = 'http://localhost:8000/';
    }

    var require = {
      baseUrl: origin + 'js/',
      deps: ['../../../node_modules/es6-promise/dist/es6-promise'],
      paths: {
        text: '../../../node_modules/requirejs-text/text',
        html: '../html',
        xmldom: '../../../node_modules/xmldom/dom-parser'
      },
      config: {
        text: {
          useXhr: function () {
            return true;
          }
        }
      }
    };

    document.addEventListener('DOMContentLoaded', function() {
      var requirejs = document.createElement('script');
      requirejs.src = origin + '../../../node_modules/requirejs/require.js';
      requirejs.setAttribute('data-main', 'Main.js');

      var style = document.createElement('link');
      style.rel = 'stylesheet';
      style.href = origin + 'css/main.css';

      var head = document.getElementsByTagName('head')[0];
      head.appendChild(style);
      head.appendChild(requirejs);
    }, false);
  </script>
</head>
  <body></body>
</html>
