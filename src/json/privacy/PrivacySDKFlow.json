{"start":"ageGateDecision","nodes":{"ageGateDecision":{"_description":"Age gate decision","isSelfEvaluating":true,"links":[{"node":"ageSelect","condition":{">":[{"var":"env.ageGateLimit"},0]},"_description":"Age gate show is required"},{"node":"consent","condition":{"==":[{"var":"env.ageGateLimit"},0]},"_description":"Age gate show is not required"}]},"ageSelect":{"title":"ageSelect.title","subtitle":"ageSelect.subtitle","isExitNode":true,"_description":"User age verification","components":[{"_description":"User is over age limit","text":"overAgeLimit","type":"button","isSubmit":true,"actions":[{"property":"agreedOverAgeLimit","value":true}]},{"_description":"User is under age limit","text":"underAgeLimit","type":"button","isSubmit":true,"actions":[{"property":"agreedOverAgeLimit","value":false}]}],"links":[{"_description":"User is 13 or older","node":"consent","condition":{"==":[{"var":"user.agreedOverAgeLimit"},true]}}]},"consent":{"_description":"Collecting user consent","title":"consent.title","subtitle":"consent.subtitle","isExitNode":true,"components":[{"type":"button","_description":"User accepts data tracking","text":"acceptTracking","actions":[{"property":"acceptTracking","value":true},{"property":"gameExp","value":true},{"property":"ads","value":true},{"property":"external","value":true}],"isSubmit":true},{"type":"button","_description":"User wants to see data tracking options","text":"showChoices","actions":[{"property":"acceptTracking","value":false}],"isSubmit":true}],"links":[{"_description":"Show granular data tracking options","node":"customization","condition":{"==":[{"var":"user.acceptTracking"},false]}}]},"customization":{"isExitNode":true,"_description":"Collecting user consent","title":"consent.title","subtitle":"consent.subtitle","components":[{"type":"switch","_description":"User allows game experience data collection","text":"allowGameExperienceDataCollection","isChecked":{"==":[{"var":"user.gameExp"},true]},"actions":[{"property":"gameExp","value":{"!":[{"var":["user.gameExp"]}]}}]},{"type":"switch","_description":"User allows game ads data collection","text":"allowGameAdsDataCollection","isChecked":{"==":[{"var":"user.ads"},true]},"actions":[{"property":"ads","value":{"!":[{"var":["user.ads"]}]}},{"property":"external","value":{"if":[{"!":[{"var":["user.ads"]}]},false,{"var":["user.external"]}]}}]},{"type":"switch","_description":"User allows third-party data collection","text":"allowThirdPartyDataCollection","isChecked":{"==":[{"var":"user.external"},true]},"isDisabled":{"==":[{"var":["user.ads",false]},false]},"actions":[{"property":"external","value":{"!":[{"var":["user.external"]}]}},{"property":"ads","value":{"if":[{"!":[{"var":["user.external"]}]},false,{"var":["user.ads"]}]}}]},{"type":"button","_description":"User agrees to all tracking options","text":"allowAll","actions":[{"property":"gameExp","value":true},{"property":"ads","value":true},{"property":"external","value":true}],"isSubmit":true,"submitDelay":1000,"isHidden":{"or":[{"==":[{"var":"user.gameExp"},true]},{"==":[{"var":"user.ads"},true]},{"==":[{"var":"user.external"},true]}]}},{"type":"button","_description":"User disagrees","text":"disagree","isSubmit":true,"isHidden":{"or":[{"==":[{"var":"user.gameExp"},true]},{"==":[{"var":"user.ads"},true]},{"==":[{"var":"user.external"},true]}]}},{"type":"button","_description":"User saves the choices","text":"saveChoices","isSubmit":true,"isHidden":{"and":[{"==":[{"var":["user.gameExp",false]},false]},{"==":[{"var":["user.ads",false]},false]},{"==":[{"var":["user.external",false]},false]}]}}],"links":[],"allowGoBack":true}}}
