<!DOCTYPE html>
<html lang="en">
<head>
    <title>Unity Ads WebView</title>

    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="format-detection" content="telephone=no"/>

    <script id="mraid">
        var mraid = window.mraid = {};

        mraid.getState = function() {
            return 'expanded';
        };
        mraid.getVersion = function() {
            return '2.0';
        };
        mraid.getPlacementType = function() {
            return 'interstitial';
        };
        mraid.supports = function() {
            return false;
        };
        mraid.setOrientationProperties = function() {};
        mraid.getOrientationProperties = function() {
            return {
                allowOrientationChange: true,
                forceOrientation: 'none'
            };
        };
        mraid.addEventListener = function(event, listener) {
            if(event === 'ready') {
                listener();
            }
        };
        mraid.isViewable = function() {
            return true;
        };
        mraid.getCurrentPosition = mraid.getDefaultPosition = function() {
            return {
                x: 0,
                y: 0,
                width: document.body.clientWidth,
                height: document.body.clientHeight
            };
        };
        mraid.getExpandProperties = function() {
            return {
                width: document.body.clientWidth,
                height: document.body.clientHeight,
                useCustomClose: false,
                isModal: true
            };
        };
        mraid.setExpandProperties = function() {};
        mraid.getResizeProperties = function() {
            return {
                width: undefined,
                height: undefined,
                offsetX: undefined,
                offsetY: undefined,
                customClosePosition: 'top-right',
                allowOffscreen: true
            };
        };
        mraid.setResizeProperties = function() {};
        mraid.getMaxSize = mraid.getScreenSize = function() {
            return {
                width: document.body.clientWidth,
                height: document.body.clientHeight
            };
        };
        mraid.useCustomClose = function() {};
    </script>
    <script>
        var initialize = function(mraid) {
            document.write(mraid.replace('<scr' + 'ipt src="mraid.js"></scr' + 'ipt>', '<scr' + 'ipt>' + document.getElementById('mraid').innerHTML + '</scr' + 'ipt>'));
        };

        window.addEventListener('message', function(event) {
            console.dir(event);
            if(event && event.data && typeof event.data === 'object') {
                if(event.data.url) {
                    var xhr = new XMLHttpRequest();
                    xhr.addEventListener('load', function() {
                        initialize(xhr.responseText);
                    }, false);
                    xhr.open('GET', decodeURIComponent(mraid));
                    xhr.send();
                } else if(event.data.data) {
                    initialize(event.data.data);
                }
            }
        }, false);
    </script>
</head>
<body></body>
</html>
