#mraid

  @import "game-shared.styl";

  hiding-delay = 1.5s;

  progress-bar-width = 60%
  filling-bar-width = progress-bar-width * 0.3

  #mraid-iframe
    position: absolute
    top: 0
    left: 0
    border: none
    width: 100vw;
    height: 100vh;

  .close-region
    display: none
    position: absolute
    top: 2px
    right: 2px
    width: 50px
    height: 50px
    z-index: 9999
    opacity: 0.4

  .icon-close
    top: 4px
    right: 2px
    color: #fff
    font-size: 28px
    width: 32px
    height: 32px
    position: absolute
    text-shadow: 2px 2px 20px #7c7c7c
    text-align: center
    line-height: 28px

  .close
    position: absolute
    top: 50%
    left: 8px
    width: 36px
    height: 36px
    -webkit-transform: translate(0, -50%)

  .progress-wrapper
    position: absolute
    width: 36px
    height: 36px
    clip: rect(0px, 36px, 36px, 18px)

  .progress:after
    position: absolute
    display: block
    left: 50%
    top: 50%
    font-size: 18px
    color: white
    -webkit-transform: translate(-50%, -50%)

  .circle-base
  .circle-left
  .circle-right
    position: absolute
    vertical-align: middle
    background-color: transparent
    width: 28px
    height: 28px
    border-radius: 100%

  .circle-base
    border: 4px solid #696969

  .circle-left
  .circle-right
    border: 4px solid #fff
    clip: rect(0px, 18px, 36px, 0px)

  .progress-wrapper
  .circle-left
  .circle-right
    -webkit-animation-iteration-count: 1
    -webkit-animation-fill-mode: forwards
    -webkit-animation-timing-function: linear
    -webkit-animation-duration: 0.01s

  .loading-screen
    display: none
    position: absolute
    top: 0
    left: 0
    width: 100vw
    height 100vh
    background-color: white
    z-index: 100
    opacity: 1

    &.hidden
      -webkit-transition: opacity 200ms ease-out;
      transition: opacity 200ms ease-out

      -webkit-transition-delay: hiding-delay
      transition-delay: hiding-delay

      opacity: 0
      pointer-events: none

    .container
      display: -webkit-box
      display: flex

      -webkit-box-orient: vertical
      -webkit-box-direction: normal
      -webkit-box-pack: center
      -webkit-box-align: center

      flex-direction: column
      justify-content: center
      top: 0
      bottom: 0
      left: 0
      right: 0
      margin: auto
      position: absolute

      > div
        -webkit-align-self: center
        align-self: center
        margin: 10px

      .user-text,
      .name-container
        text-align: center

    .user-text
      font-size: 14.5pt
      font-weight: 300
      color: #1f1e1e

    .progress-bar
      height: 3pt
      width: progress-bar-width
      background-color: #e6e6e6
      overflow: hidden

      .filling
        background-color: #167dfb
        height: 5pt
        width: filling-bar-width
        display: block
        position: relative
        left: 0

        -webkit-transform: translate3d(0, 0, 0)
        transform: translate3d(0, 0, 0)

        -webkit-backface-visibility: hidden;
        backface-visibility: hidden

        -webkit-animation: progress-bar-dynamic 1s linear infinite
        animation: progress-bar-dynamic 1s linear infinite

        will-change: left


    @-webkit-keyframes progress-bar-dynamic {
      0% {
        left: filling-bar-width * -1
      }

      30% {
        left: 55% - filling-bar-width * 0.5
      }

      32% {
        left: 53% - filling-bar-width * 0.5
      }

      35%{
        left: 35%
      }

      37% {
        left: 38%
      }

      42% {
        left: 51% - filling-bar-width * 0.5
      }

      45%, 60%, 70%, 80% {
        left: 50% - filling-bar-width * 0.5
      }

      90% {
        left: 80%
      }

      100% {
        left: 100%
      }

    }

    @keyframes progress-bar-dynamic {
      0% {
        left: filling-bar-width * -1
      }

      30% {
        left: 55% - filling-bar-width * 0.5
      }

      32% {
        left: 53% - filling-bar-width * 0.5
      }

      35%{
        left: 35%
      }

      37% {
        left: 38%
      }

      42% {
        left: 51% - filling-bar-width * 0.5
      }

      45%, 60%, 70%, 80% {
        left: 50% - filling-bar-width * 0.5
      }

      90% {
        left: 80%
      }

      100% {
        left: 100%
      }

    }

  @media screen and (min-height: 568px)
    .loading-screen
      .game-icon
        height: 96px
        width: 96px

  @media screen and (max-height: 240px)
    .loading-screen
      .container > div
        margin: 3px

      .name-container
        font-size: 12pt

      .game-rating
        font-size: 10pt

      .user-text
        font-size: 10.5pt

  // iPad
  @media screen and (min-height: 768px) and (min-width: 1024px),  screen and (min-height: 1024px) and (min-width: 768px)
    .loading-screen
      .user-text
        font-size: 18.5pt
      .game-icon
        height: 150px
        width: 150px

      .progress-bar
        width: progress-bar-width * 0.8

      .game-rating
        font-size: 20pt

      .name-container
        font-size: 30pt

      .unityads-logo
        height: 32px
        width: 136px
        bottom: 20px

